<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<title>Home2 - áƒ“áƒáƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜</title>
<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #4facfe, #00f2fe);
    color: #fff;
    margin:0;
    min-height:100vh;
    display:flex;
    flex-direction:column;
}
header {
    display:flex;
    justify-content:flex-end;
    padding: 15px 30px;
    background: rgba(0,0,0,0.2);
    backdrop-filter: blur(6px);
}
header a, header button {
    margin-left: 15px;
    color:#fff;
    text-decoration:none;
    font-weight:bold;
    background: #ffffff33;
    border:none;
    border-radius:6px;
    padding:8px 15px;
    cursor:pointer;
    transition:0.3s;
}
header a:hover, header button:hover {
    background:#fff;
    color:#000;
}
main {
    flex:1;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:20px;
}
.container {
    background: rgba(255,255,255,0.1);
    padding: 30px;
    border-radius: 20px;
    width: 100%;
    max-width: 450px;
    backdrop-filter: blur(12px);
    box-shadow: 0 8px 30px rgba(0,0,0,0.3);
}
input {
    padding: 12px 15px;
    width: 80%;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    margin-bottom: 15px;
    outline: none;
}
button#check-btn {
    padding: 12px 30px;
    border: none;
    border-radius: 10px;
    background: #ffffffcc;
    color: #000;
    font-size: 16px;
    cursor: pointer;
    transition: 0.3s;
    font-weight: bold;
}
button#check-btn:hover {
    background: #fff;
    transform: scale(1.05);
}
.weather-box {
    margin-top: 25px;
    font-size: 18px;
    background: rgba(0,0,0,0.25);
    padding: 20px;
    border-radius: 15px;
}
.weather-box h2 {
    margin-bottom: 10px;
    font-size: 24px;
    font-weight: 700;
}
.weather-box p {
    margin: 6px 0;
    font-size: 16px;
}
#error {
    margin-top: 20px;
    color: #ff6b6b;
    font-weight: bold;
    font-size: 16px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}
</style>
</head>
<body>

<header>
    <button id="logout-btn">Logout</button>
    <a href="Terms&Policy2.html">Terms & Policy </a>
    <a href="acauntinfro.html">Account Info</a>
</header>

<main>
    <div class="container">
        <h1>ğŸŒ¤ áƒáƒ›áƒ˜áƒœáƒ“áƒ˜áƒ¡ áƒáƒ áƒáƒ’áƒœáƒáƒ–áƒ˜</h1>
        <input id="city-input" type="text" placeholder="áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒ” áƒ¥áƒáƒšáƒáƒ¥áƒ˜ (áƒ˜áƒœáƒ’áƒšáƒ˜áƒ¡áƒ£áƒ áƒáƒ“)">
        <button id="check-btn">áƒ’áƒáƒ“áƒáƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ</button>
        <div id="weather" class="weather-box"></div>
        <div id="error"></div>
    </div>
</main>

<script>
const apiKey = "22ebce1b04007c4229f8bb2e394f09ea";

document.getElementById('logout-btn').addEventListener('click', function(){
    localStorage.removeItem('currentUser');
    window.location.href = "home.html";
});

async function getWeather() {
    const city = document.getElementById("city-input").value.trim();
    const weatherDiv = document.getElementById("weather");
    const errorDiv = document.getElementById("error");

    weatherDiv.innerHTML = "";
    errorDiv.textContent = "";

    if (!city) {
        errorDiv.textContent = "áƒ’áƒ—áƒ®áƒáƒ•, áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒ” áƒ¥áƒáƒšáƒáƒ¥áƒ˜ (áƒ˜áƒœáƒ’áƒšáƒ˜áƒ¡áƒ£áƒ áƒáƒ“)!";
        return;
    }

    const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)}&appid=${apiKey}&units=metric&lang=en`;

    try {
        const res = await fetch(url);
        if (!res.ok) throw new Error("áƒ¥áƒáƒšáƒáƒ¥áƒ˜ áƒ•áƒ”áƒ  áƒ›áƒáƒ˜áƒ«áƒ”áƒ‘áƒœáƒ!");
        const data = await res.json();
        displayWeather(data);
    } catch (err) {
        errorDiv.textContent = err.message;
    }
}

function displayWeather(data) {
    const weatherDiv = document.getElementById("weather");

    const name = data.name;
    const temp = data.main.temp;
    const desc = data.weather[0].description;
    const humidity = data.main.humidity;
    const wind = data.wind.speed;
    const icon = data.weather[0].icon;

    weatherDiv.innerHTML = `
        <h2>${name}</h2>
        <!-- <img src="https://openweathermap.org/img/wn/${icon}@2x.png" alt="weather-icon"> -->
        <p>áƒ¢áƒ”áƒ›áƒáƒ”áƒ áƒáƒ¢áƒ£áƒ áƒ: <b>${temp}Â°C</b></p>
        <p>áƒáƒ¦áƒ¬áƒ”áƒ áƒ: <b>${desc}</b></p>
        <p>áƒ¢áƒ”áƒœáƒ˜áƒáƒœáƒáƒ‘áƒ: <b>${humidity}%</b></p>
        <p>áƒ¥áƒáƒ áƒ˜áƒ¡ áƒ¡áƒ˜áƒ©áƒ¥áƒáƒ áƒ”: <b>${wind} m/s</b></p>
    `;
}

document.getElementById("check-btn").addEventListener("click", getWeather);
</script>

</body>
</html>
